import{s as p}from"./index.8a7df828.js";import{_ as u,o as h,c,a as e,e as i,w as l,b as a}from"./index.5859b29d.js";const m={data(){return{username:"",name:"",password:"",store:p}},methods:{login:function(){if(this.username.trim()==""||this.password.trim()==""){alert("\u7528\u6237\u540D\u6216\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A\uFF0C\u8BF7\u8F93\u5165\u8D26\u53F7\u5BC6\u7801");return}fetch("https://db-api.amarea.cn/users/"+this.username).then(s=>s.json()).then(s=>{if(console.log(s),s.id===this.username&&s.password===this.password)console.log(s.name),console.log(s),this.store.nickname=s.name,this.store.phone=s.phone,this.store.sex=s.sex,this.store.emailaddress=s.email,this.store.password=s.password,localStorage.setItem("nickname",this.store.nickname),localStorage.setItem("phone",this.store.phone),localStorage.setItem("sex",this.store.sex),localStorage.setItem("email",this.store.emailaddress),localStorage.setItem("password",this.store.password),this.$router.push("./web");else throw new Error("\u8D26\u53F7\u6216\u5BC6\u7801\u9519\u8BEF")}).catch(s=>alert(s))},sign:function(){this.$router.push("/sign")},change:function(){this.$router.push("/change")}}},d={class:"wrap"},g={style:{border:"2px solid #000",padding:"40px","border-radius":"8px"}},f=e("div",{class:"form-group"},[e("p",{style:{"font-size":"22px",margin:"0 auto"}},"\u7528\u6237\u767B\u5F55")],-1),_={class:"form-group"},w={class:"form-group"},x={class:"buttonLogin"};function b(s,t,v,k,n,r){return h(),c("div",d,[e("form",g,[f,e("div",_,[e("p",null,[i(" \u8D26\u6237: "),l(e("input",{style:{height:25+"px"},"onUpdate:modelValue":t[0]||(t[0]=o=>n.username=o),type:"text",placeholder:"\u8BF7\u8F93\u5165\u8D26\u6237\u540D"},null,512),[[a,n.username]])])]),e("div",w,[e("p",null,[i(" \u5BC6\u7801: "),l(e("input",{style:{height:25+"px"},"onUpdate:modelValue":t[1]||(t[1]=o=>n.password=o),type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,512),[[a,n.password]])])]),e("div",x,[e("button",{class:"btn",onClick:t[2]||(t[2]=(...o)=>r.login&&r.login(...o))},"\u767B\u5F55"),e("button",{class:"btn",onClick:t[3]||(t[3]=(...o)=>r.change&&r.change(...o))},"\u4FEE\u6539\u5BC6\u7801"),e("button",{class:"btn",onClick:t[4]||(t[4]=(...o)=>r.sign&&r.sign(...o))},"\u6CE8\u518C")])])])}const S=u(m,[["render",b]]);export{S as default};
